---
name: github-commit-push-rules
description: GrouMapプロジェクトで「GitHubにコミットしてプッシュして」などの依頼が来たときに適用するGit操作ルール。コミット・プッシュ・mainマージ・ブランチ運用の手順を厳守する。
---

# GitHub Commit Push Rules

## 概要

GrouMapのユーザー/店舗アプリの変更をGitHubへコミット・プッシュする際の必須手順を適用する。依頼があった場合は常にユーザー用・店舗用の両リポジトリで同様の手順を確認・実行する。

## 手順

ユーザーから「GitHubにコミットしてプッシュして」と依頼されたら、必ず以下の手順を順守する。

0. `/Users/kanekohiroki/Desktop/groumapapp/FIRESTORE.md` を読み込み、Firestore関連（プロバイダー追加、コレクション/ドキュメントの作成・削除・更新など）の変更がある場合は、FIRESTORE.md を追記・修正する（ユーザー用・店舗用リポジトリの変更がある場合も対象）。
1. ユーザー用リポジトリと店舗用リポジトリの両方で `git status -sb` を確認する。
2. 変更があるリポジトリは以下を順に実行する（変更がない場合は「変更なし」と報告してスキップ）。
3. 現在のブランチをコミットしてプッシュする。
2. その後、`main`にマージして`main`へpushする。
3. マージ後は元のブランチに戻す。
4. 元のブランチへ戻した時、そのブランチ名が今日の日付（`YYYY-mm-dd`）でない場合は、新しいブランチを`YYYY-mm-dd`形式で作成して切り替える。
5. `.gitignore`に含まれているもの以外は全てコミットする。
6. コミットメッセージは任意。
7. 依頼があった場合は両リポジトリを必ず確認し、変更がある場合は両方で同じ手順を実行する。
8. どちらか一方のみ変更がある場合でも、もう一方は「変更なし」を明示して報告する。

## 注意事項

- 依頼があるまで勝手にコミット・プッシュを行わない。
- 既存の未コミット変更がある場合は、内容を確認してから手順を進める。
